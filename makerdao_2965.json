{
    "poll_list": [],
    "discourse_list": [
        {
            "thread_link": "https://forum.makerdao.com/t/dschief-1-2-proteccion-contra-los-flash-loans-para-la-gobernanza-maker/5270",
            "title": "DsChief 1.2: Protecci\\xc3\\xb3n contra los Flash Loans para la Gobernanza Maker ",
            "index": 5270,
            "category": [
                "Latin America"
            ],
            "tags": [
                "governance",
                "espa\\xc3\\xb1ol",
                "actualizaciones"
            ],
            "content": [
                {
                    "author_link": "https://forum.makerdao.com/u/Lozadaluis12",
                    "index": "#1",
                    "likes": "2",
                    "time": "22/11/2020-02:44:02",
                    "content": "Contexto El dise\u00f1o actual del contrato de gobernanza Maker (DsChief) permite utilizar MKR proveniente de flash loans para votar propuestas. Este dise\u00f1o llev\u00f3 a que se utilizara un flash loan para aprobar la propuesta ejecutiva del 23 de octubre de 2020. Ya se introdujeron varias mitigaciones a corto plazo para limitar el riesgo de flash loans en la gobernanza en el voto ejecutivo del 30 de octubre de 2020:  El retraso de gobernanza se increment\u00f3 a 72 horas, dando tiempo adicional para eliminar propuestas elegidas maliciosamente. La gobernanza tambi\u00e9n ha eliminado la capacidad de congelar or\u00e1culos instant\u00e1neamente y deshabilitar liquidaciones. Esto evita que un atacante da\u00f1e el sistema con flash loans  activando cualquiera de estos mecanismos de manera inapropiada.  A mediano plazo, el objetivo es evitar el uso de flash loans en las votaciones, al tiempo que se vuelve a habilitar la capacidad de congelar instant\u00e1neamente or\u00e1culos y deshabilitar liquidaciones, ya que estas protecciones se agregaron inicialmente como mecanismos de defensa contra otras amenazas. Esta publicaci\u00f3n presenta una opci\u00f3n para lograr estos objetivos y describe un proceso de transici\u00f3n a un nuevo DsChief. Soluci\u00f3n Recomendada: DsChief 1.2 Al migrar el sistema a un nuevo DsChief, la votaci\u00f3n a trav\u00e9s de un flash loan ser\u00eda imposible. Una vez en su lugar, volver\u00edamos a habilitar de manera segura la capacidad de la gobernanza para votar sobre congelamientos instant\u00e1neos de or\u00e1culos y activaci\u00f3n / desactivaci\u00f3n de liquidaciones. Esta actualizaci\u00f3n se conoce como DsChief 1.2, ya que ser\u00eda la segunda actualizaci\u00f3n del dise\u00f1o original del DsChief. Actualizar el DsChief tiene una serie de beneficios. Borrador de cambios en el c\u00f3digo: https://github.com/makerdao/ds-chief/pull/1 9 Los Flash loans no pueden ser usados para aprobar propuestas En cada llamada a lock() el MKR en el nuevo chief, registrar\u00edamos el n\u00famero de bloque actual, mientras que al mismo tiempo nos aseguramos de que cualquier llamada correspondiente a free() ocurra en un bloque diferente. La capacidad de llamar a lock() y free() en el mismo bloque es lo que permite usar flash loans con el DsChief. Al evitar que estas llamadas sucedan en el mismo bloque, estamos a su vez evitando que los flash loans se usen con el DsChief . Aumentar la barrera contra ataques de gobernanza Al prevenir los flash loans, la gobernanza mitiga los ataques de gobernanza que no requieren jugarse el capital propio. Si bien esto no evita todos los tipos de ataques a la gobernanza, garantiza que existan ciertas barreras econ\u00f3micas que aumentan significativamente la dificultad de dichos ataques. Cambios de c\u00f3digo de bajo riesgo Esta correcci\u00f3n es f\u00e1cil de entender con solo 18 nuevas l\u00edneas de c\u00f3digo en el DsChief. La baja complejidad y la falta de nuevas superficies de ataque eliminan la necesidad de auditor\u00edas que requieren mucho tiempo y aumentan la confianza en este enfoque. Los ataques a la gobernanza a trav\u00e9s de flash loans se resuelven por completo antes del DssGov Cada vez que los equipos de ingenier\u00eda se asignan al azar a problemas de emergencia, se retrasa el resto de su hoja de ruta. Esto retrasa la incorporaci\u00f3n de colaterales, las liquidaciones 2.0 y la futura actualizaci\u00f3n del DssGov. Hay una serie de funciones de gobernanza importantes que se incluir\u00e1n en la futura actualizaci\u00f3n del DssGov, y dado que la prevenci\u00f3n de flash loans es una de las nuevas funciones del DssGov, cualquier tiempo de ingenier\u00eda dedicado a backportear esa soluci\u00f3n es trabajo duplicado. Algunas de las otras soluciones que exploramos fueron mitigaciones que finalmente tambi\u00e9n podr\u00edan entorpecer la hoja de ruta de ingenier\u00eda. Debido a que esta soluci\u00f3n no es solo una reducci\u00f3n del riesgo de flash loans, como lo eran las soluciones anteriores, sino que evita los flash loans por completo, podemos estar seguros de que los equipos de ingenier\u00eda y otros no ser\u00e1n asignados aleatoriamente a otros vectores de ataque de pr\u00e9stamos flash a la gobernanza. El retraso de la gobernanza se puede evitar de forma segura seg\u00fan sea necesario De vez en cuando, la gobernanza puede requerir acceso instant\u00e1neo, aunque limitado, para cambiar el Protocolo Maker. Esto se logra a trav\u00e9s de m\u00f3dulos de acceso de emergencia que pueden evitar la demora GSM (M\u00f3dulo de Seguridad de Gobernanza), llamados Moms. Reemplazar el Chief conserva la m\u00e1xima flexibilidad para congelar subconjuntos de or\u00e1culos o activar subconjuntos de cortacircuitos. El OsmMom y FlipperMom existentes se pueden volver a habilitar de manera segura una vez que se reemplaza el Chief, restaurando la funcionalidad completa del m\u00f3dulo de emergencia que se hab\u00eda deshabilitado debido a los problemas de flash loans. Adem\u00e1s, esta soluci\u00f3n nos permite seguir la misma metodolog\u00eda en el futuro, creando nuevos Moms seg\u00fan sea necesario. La actualizaci\u00f3n de DsChief tambi\u00e9n conlleva una serie de preocupaciones Todas las soluciones tienen algunos inconvenientes. La actualizaci\u00f3n del DsChief no es una excepci\u00f3n y viene con las siguientes consideraciones de riesgo:  El DsChief debe incluir un umbral de activaci\u00f3n (se debe depositar una cantidad m\u00ednima de MKR a una direcci\u00f3n en particular para permitir que el Chief ejerza autoridad sobre el sistema; esto es para que la migraci\u00f3n sea m\u00e1s segura). La gobernanza Maker debe migrar del DsChief actual al nuevo DsChief; esto implica un per\u00edodo de tiempo durante el cual no se pueden tomar medidas de gobernanza (debido al umbral de activaci\u00f3n en el nuevo Chief). Requiere trabajo de UI/UX. Los poseedores de MKR deben tomar medidas (se requieren varias TXs para la migraci\u00f3n).  Consideraciones de la migraci\u00f3n Debido al umbral de activaci\u00f3n antes mencionado, habr\u00e1 un per\u00edodo de tiempo durante el cual no se podr\u00e1n tomar acciones de gobernanza (entre lanzar el spell para cambiar al nuevo Chief y suficiente MKR migrando a \u00e9l). A continuaci\u00f3n, se describe la secuencia exacta de pasos y se consideran los posibles riesgos de la migraci\u00f3n (y sus mitigaciones). Pasos de la migraci\u00f3n  Ejecutar el nuevo DsChief. Escribir y ejecutar un spell que cambie la autoridad para todos los contratos relevantes (Pause, MkrAuthority, OsmMom y FlipperMom) del antiguo DsChief al nuevo DsChief. Los poseedores de MKR votan el spell como el hat. El MKR se mantiene en el hat durante el per\u00edodo de retraso de la gobernanza. Esto asegura que no se programen otros spells antes de que se deshabilite el antiguo DsChief, ya sea mediante flash loans o votaci\u00f3n normal. El spell se ejecuta, cambiando la autoridad al nuevo DsChief y dejando al antiguo DsChief impotente. Los poseedores de MKR migran al nuevo Chief y votan por un hat de activaci\u00f3n predesignado (probablemente 0x0). Al realizar este paso despu\u00e9s de que se haya desactivado el DsChief actual, se evita el riesgo de una reducci\u00f3n peligrosa de MKR en el hat activo. Una vez que se ha migrado suficiente MKR, el nuevo DsChief se activa y comienza a gobernar el sistema.  L\u00ednea de tiempo  revisi\u00f3n de c\u00f3digo completa: 13 de noviembre de 2020 (viernes 13)  spell completo en la red de kovan: 19 de noviembre del 2020  ejecuci\u00f3n del DsChief 1.2en la red de kovan: 20 de noviembre del 2020  prueba en la red de kovan : 20 de noviembre del 2020  encuesta de gobernanza: 23 de noviembre del 2020   spell completo en la mainnet: 24 de noviembre del 2020  voto ejecutivo del DsChief 1.2en la mainnet: 27 de noviembre del 2020  ejecuci\u00f3n y migraci\u00f3n al DsChief 1.2: del 27 de noviembre del 2020 al 3 de diciembre del 2020    Esto es una traducci\u00f3n libre del art\u00edculo original en ingl\u00e9s, gracias a @Lozadaluis12 y @Blimpa por la traducci\u00f3n. ",
                    "links": [
                        "https://vote.makerdao.com/executive/5f9c141dd88e93001a107a6a?network=mainnet#proposal-detail",
                        "https://github.com/makerdao/ds-chief/pull/1",
                        "https://github.com/makerdao/ds-chief/pull/1",
                        "https://github.com/makerdao/ds-chief/pull/1/files#diff-2b0cca81c8ecf6081f985ebcb50d99ca6aca12d7cdebb793b40be84e545c903bR55-R63",
                        "https://github.com/makerdao/ds-chief/pull/1/files#",
                        "https://forum.makerdao.com/t/dschief-1-2-flash-loan-protection-for-maker-governance/5115"
                    ],
                    "GPT-summary": null,
                    "GPT-proposal-categories": null,
                    "GPT-discussion-categories": null,
                    "Sentiment": 5.717948717948717
                }
            ]
        }
    ]
}