{
    "poll_list": [],
    "discourse_list": [
        {
            "thread_link": "https://forum.makerdao.com/t/mip31-amm-de-reserva-activa-dss-ara/5776",
            "title": "MIP31: AMM de Reserva Activa (`dss-ara`) ",
            "index": 5776,
            "category": [
                "Latin America"
            ],
            "tags": [
                "mips",
                "espa\\xc3\\xb1ol"
            ],
            "content": [
                {
                    "author_link": "https://forum.makerdao.com/u/blimpa",
                    "index": "#1",
                    "likes": "4",
                    "time": "23/12/2020-20:32:52",
                    "content": "MIP31: AMM de Reserva Activa (dss-ara) Pre\u00e1mbulo MIP#: 31 T\u00edtulo: AMM de Reserva Activa (`dss-ara`) Autor(es): Alexis Colaboradores: n/a Tipo: T\u00e9cnica Estado: Por definir Fecha de Propuesta: <yyyy-mm-dd> Fecha de Ratificaci\u00f3n: <yyyy-mm-dd> Dependencias: el m\u00f3dulo keg (https://github.com/makerdao/keg) Reemplaza: n/a Licencia: AGPL3+   Referencias  Preimplementaci\u00f3n Uniswap V2 contract AMM  Rese\u00f1a abreviada Esta MIP es una propuesta t\u00e9cnica para una reserva activa basada en el contrato de Uniswap V2. Rese\u00f1a extendida Actualmente la gobernanza usa el surplus buffer (b\u00fafer de excedentes) como reserva, cuando en realidad el surplus buffer no ha sido dise\u00f1ado con este prop\u00f3sito debido a su naturaleza. El b\u00fafer de excedentes debe ser una reserva de seguridad del protocolo para tenedores de Dai en caso de fallo. En consecuencia, debe ser considerado en alguna medida como parte del colateral, puesto que es redistribuido a los tenedores de Dai en caso de emergenia. Esta propuesta busca sumarle a Maker una pieza faltante: la Reserva Maker. Es una propuesta t\u00e9cnica para crear una reserva para tenedores de Maker basada en el AMM (Automatic Market Maker) de Uniswap V2. Utiliza DAI y MKR como activos dentro de un pool de liquidez y como par de intercambio. La propuesta le posibilitar\u00e1 a MakerDAO construir su propia reserva. Como efectos secundarios tambi\u00e9n deber\u00eda:  Aumentar la eficiencia del proceso de quema - swap versus subasta dutch Aumentar la estabilidad de precio de MKR al crear un b\u00fafer Ser una pieza importante para mejoras futuras:  Liquidaci\u00f3n de cantidades peque\u00f1as Reducir la ineficiencia de la quema Swap de Oasis Etc\u00e9tera. (DeFi se basa en AMM).    El AMM con el par DAI/MKR tendr\u00e1 un efectivo similar en el mecanismo de quema. En lugar de quemar depositaremos 1/2 de MKR y 1/2 de DAI. El m\u00f3dulo le permitir\u00e1 a la gobernanza extraer DAI, MKR o ambas. Estar\u00e1 conectado al keg. Componente - Nueva prestaci\u00f3n La l\u00f3gica general est\u00e1 basada en Uniswap V2: https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2Pair.sol El mecanismo de swap no cambiar\u00e1; solo se depurar\u00e1n par\u00e1metros de tarifas y mecanismos sin uso. mint y burn ser\u00e1n reemplazados por deposit y withdraw. Pare prevenir eventuales problemas estos nuevos m\u00e9todos ser\u00e1n colocados detr\u00e1s de una lista de permisos. Solo el swap debe ser \u201cexterno\u201d. Lista de modificaciones a aplicar: Tarifas swap() MIP31a1: las tarifas deben ser parametrizadas y gestionadas por la gobernanza con el par\u00e1metro fees . _mintFee() MIP31a2: _mintFee debe removerse. Las tarifas de entrada no se aplican en este caso. Debemos remover el m\u00e9todo y las llamadas a \u00e9l. skim() MIP31a3: puede ser removido. Mint y Burn UniswapV2ERC20 MIP31b1: Remover la implementaci\u00f3n del token. Mint() MIP31c1: Remover la generaci\u00f3n de tokens, el m\u00e9todo _mint() MIP31c2: Renombrar el m\u00e9todo como deposit(). MIP31c3: No se necesitan par\u00e1metros. MIP31c4: Debe formar parte de la lista de permitidos y ser accesible por keg y gov para hacer extracciones. Burn() MIP31d1: Remover la destrucci\u00f3n de tokens, el m\u00e9todo _burn() MIP31d2: Renombrar el m\u00e9todo como withdraw(). MIP31d3: Debe formar parte de la lista de permitidos y ser accesible por keg y gov para hacer extracciones. Dos opciones aqu\u00ed Opci\u00f3n 1: MIP31e1: Debe ser capaz de extraer cualquier cantidad de ambos tokens. MIP31e2: Son necesarios tres par\u00e1metros: amount0Out, amount1Out, addressTo Opci\u00f3n 2 (opci\u00f3n segura): MIP31g1: Debe ser capaz de pedir la extracci\u00f3n de cualquier cantidad de Dai. MIP31g2: La acci\u00f3n de extracci\u00f3n tomar\u00e1 la misma cantidad de Dai y de MKR. El MKR es quemado. MIP31g3: El Dai es transferido al b\u00fafer de excedentes o a cualquier vault pasado como par\u00e1metro al momento de la creaci\u00f3n. MIP31g4: Es necesario un par\u00e1metro: amountOut MIP31: \u00bfC\u00f3mo funciona? El dep\u00f3sito inicial (50% DAI, 50% MKR) debe ser relativamente alto para tener alguna liquidez \u2014 probablemente alrededor de 500K cada uno. Cuanto m\u00e1s peque\u00f1o es el dep\u00f3sito, tanto mayor es el deslizamiento (slippage). La idea es redireccionar alg\u00fan porcentaje de DAI desde el mecanismo de quema de MKR hacia el AMM. Cuando el Dai est\u00e9 dentro del AMM har\u00e1 que el precio de MKR baje y crear\u00e1 un incentivo para comprar el MKR contra el mercado. N\u00f3tese que el deslizamiento debe reducirse cuando la liquidez aumenta. (Con 500000 Dai dentro del AMM y 10000 Dai dentro deber\u00edamos tener un deslizamiento de alrededor de 1%). Podemos ajustar el porcentaje tomado para controlar el deslizamiento. Existen dos opciones para el m\u00e9todo de extracci\u00f3n. La primera opci\u00f3n: podemos extraer cualquier cantidad de DAI o de MKR o de ambos, pero habr\u00e1 deslizamiento. Puede extraerse DAI por cualquier motivo y hacia cualquier direcci\u00f3n; la direcci\u00f3n es pasada como par\u00e1metro. (El m\u00e9todo est\u00e1 en una lista blanca \u2014 gobernanza). Lo mismo para MKR. Podemos extraer la misma cantidad de MKR y DAI sin deslizamiento, quemar el MKR y usar el Dai. La segunda opci\u00f3n es m\u00e1s segura. N\u00f3tese que usar solo una lista blanca (primera opci\u00f3n) es com\u00fan en MakerDAO. No permitiremos que el contrato extraiga ninguna moneda. En cambio quemaremos el MKR y transferiremos el Dai al b\u00fafer de excedentes o a cualquier vault predefinido. De esa manera incluso si el contrato/m\u00e9todo es comprometido no habr\u00e1 una forma f\u00e1cil de transferir el dep\u00f3sito a cualquier direcci\u00f3n. Una peque\u00f1a tarifa es recolectada con cada swap y la tarifa es gestionada por la gobernanza. (Uniswap utiliza un porcentaje fijo). Aunque yo sugerir\u00eda igualar la tarifa del PSM, 0.1% o incluso menos, 0.04% como Curve. No debemos olvidar que cobramos por el DAI dentro y que la idea era quemar el MKR. En \u00faltima instancia, espero que el AMM sea m\u00e1s eficiente que la subasta dutch. Adem\u00e1s podemos a\u00f1adir m\u00e1s reserva basada en Dai. Podemos redireccionarle peque\u00f1as liquidaciones y reducir el dust (m\u00ednimo). Podemos intercambiar MKR a ser quemado. Podemos a\u00f1adir el swap a Oasis, etc\u00e9tera\u2026 MIP31: Seguridad Contrato de Uniswap Errores o vulnerabilidades de seguridad en el contrato de Uniswap. El contrato ha sido largamente usado y est\u00e1 bien probado. Riesgo t\u00e9cnico de la modificaci\u00f3n del contrato Adem\u00e1s del riesgo t\u00e9cnico inherente al contrato de Uniswap, esta implementaci\u00f3n a\u00f1ade otros riesgos. Sin embargo, debido al dise\u00f1o y a la separaci\u00f3n del sistema principal, las peores p\u00e9rdidas posibles se limitan a lo depositado en el AMM. Creo que ser\u00eda bueno auditarlo. MIP31: Consideraciones econ\u00f3micas y de gobernanza Riesgos econ\u00f3micos P\u00e9rdidas impermanentes, el famoso \"impermanent loss\" Diferencia entre AMM y la quema  1/2 MKR y 1/2 DAI est\u00e1n lockeados contra 100% de MKR quemado. Con el AMM no disminuye el suministro de MKR. Debido a las p\u00e9rdidas impermanentes y a la naturaleza del AMM, la cantidad de tokens depositados cambiar\u00e1 dependiendo de la fluctuaci\u00f3n de precios. La reserva del AMM puede ser recuperada. El MKR quemado no puede recuperarse, aunque s\u00ed puede ser acu\u00f1ado nuevamente.  Un buen plus es que la reserva de Dai aumenta cuando se reduce el MKR, que es cuando necesitamos la reserva. Por otro lado, la reserva de Dai disminuye cuando aumenta el MKR, pero esto no deber\u00eda ser un problema ya que podemos acu\u00f1ar MKR en su lugar. MIP31: Licencia  AGPL3+   Esta es una traducci\u00f3n libre del art\u00edculo original publicado por @alexis. Gracias a @blimpa y a @Lozadaluis12 ",
                    "links": [
                        "https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2Pair.sol",
                        "https://github.com/Uniswap/uniswap-v2-core/blob/master/contracts/UniswapV2Pair.sol",
                        "https://www.gnu.org/licenses/agpl-3.0.en.html",
                        "https://forum.makerdao.com/t/mip31-active-reserve-via-amm/5639",
                        "https://forum.makerdao.com/t/maker-relay-ep-29-en-espanol/6220",
                        "https://forum.makerdao.com/t/maker-relay-ep-33-en-espanol/6729",
                        "https://forum.makerdao.com/t/maker-relay-ep-27-en-espanol-feliz-2021/6035",
                        "https://forum.makerdao.com/t/maker-relay-ep-28-en-espanol/6124",
                        "https://forum.makerdao.com/t/maker-relay-ep-32-en-espanol/6600",
                        "https://forum.makerdao.com/t/maker-relay-ep-31-en-espanol/6455",
                        "https://forum.makerdao.com/t/maker-relay-ep-30-en-espanol/6360"
                    ],
                    "GPT-summary": null,
                    "GPT-proposal-categories": null,
                    "GPT-discussion-categories": null,
                    "Sentiment": 5.708333333333333
                }
            ]
        }
    ]
}